{
  "name": "fumblebot",
  "version": "1.0.0",
  "private": true,
  "description": "FumbleBot - AI-powered Discord bot with integrated FoundryVTT management",
  "keywords": [
    "discord",
    "bot",
    "ai",
    "anthropic",
    "foundry-vtt",
    "docker",
    "ttrpg",
    "gaming"
  ],
  "author": "Crit-Fumble",
  "license": "MIT",
  "homepage": "https://fumblebot.crit-fumble.com",
  "repository": {
    "type": "git",
    "url": "https://github.com/crit-fumble/fumblebot.git"
  },
  "type": "module",
  "scripts": {
    "build": "npm run db:generate && tsc",
    "build:server": "tsc",
    "dev": "tsc --watch",
    "start": "node dist/index.js",
    "platform:dev": "tsx src/server.ts",
    "platform:start": "node dist/server.js",
    "clean": "rm -rf dist",
    "typecheck": "tsc --noEmit",
    "test": "vitest --run",
    "test:watch": "vitest --watch",
    "test:coverage": "vitest --coverage",
    "test:ui": "vitest --ui",
    "test:unit": "vitest --run tests/unit packages/core-fumblebot/tests src/services/discord/voice/listener.test.ts",
    "test:integration": "vitest --run src/integration",
    "test:integration:watch": "vitest --watch src/integration",
    "test:e2e": "playwright test",
    "test:e2e:api": "playwright test --project=api",
    "test:e2e:browser": "playwright test --project=chromium",
    "test:e2e:ui": "playwright test --ui",
    "test:e2e:report": "playwright show-report tests/results/html",
    "test:e2e:headed": "playwright test --headed",
    "test:e2e:debug": "playwright test --debug",
    "test:clean:output": "rm -rf tests/output/screenshots/* tests/output/data/*",
    "test:clean:results": "rm -rf tests/results/*",
    "test:clean": "npm run test:clean:output && npm run test:clean:results",
    "db:setup": "tsx scripts/setup-database.ts",
    "db:generate": "prisma generate",
    "db:migrate": "prisma migrate dev",
    "db:migrate:prod": "prisma migrate deploy",
    "db:push": "prisma db push",
    "db:studio": "prisma studio",
    "db:status": "prisma migrate status",
    "pre-generate": "tsx scripts/pre-generate-content.ts",
    "pre-generate:behaviors": "tsx scripts/pre-generate-content.ts --behaviors-only",
    "pre-generate:npcs": "tsx scripts/pre-generate-content.ts --npcs-only",
    "pre-generate:tables": "tsx scripts/pre-generate-content.ts --tables-only",
    "pre-generate:rules": "tsx scripts/pre-generate-content.ts --rules-only",
    "prepare": "husky",
    "postinstall": "prisma generate || true",
    "scan:secrets": "bash scripts/scan-secrets.sh",
    "deploy": "bash scripts/deploy.sh",
    "deploy:logs": "ssh ${FUMBLEBOT_SERVER:-fumblebot@fumblebot.crit-fumble.com} 'journalctl -u fumblebot -n 100 -f'",
    "deploy:status": "ssh ${FUMBLEBOT_SERVER:-fumblebot@fumblebot.crit-fumble.com} 'systemctl status fumblebot && curl -s http://localhost:3000/health'",
    "deploy:restart": "ssh ${FUMBLEBOT_SERVER:-fumblebot@fumblebot.crit-fumble.com} 'sudo -n systemctl restart fumblebot'",
    "commands:list": "tsx scripts/sync-commands.ts --list",
    "commands:sync": "tsx scripts/sync-commands.ts --sync",
    "commands:clear": "tsx scripts/sync-commands.ts --clear",
    "commands:clear:guild": "tsx scripts/sync-commands.ts --clear-guild",
    "commands:clear:global": "tsx scripts/sync-commands.ts --clear-global",
    "commands:reset": "tsx scripts/sync-commands.ts --clear --sync",
    "kb:build": "tsx scripts/kb/build.ts",
    "kb:validate": "tsx scripts/kb/validate.ts",
    "kb:query": "tsx scripts/kb/query-local.ts",
    "kb:test": "tsx scripts/test-kb-integration.ts"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.32.1",
    "@auth/express": "^0.12.1",
    "@crit-fumble/core": "^10.4.4",
    "@crit-fumble/core-fumblebot": "^0.1.0",
    "@crit-fumble/worldanvil": "^3.0.0",
    "@deepgram/sdk": "^4.11.2",
    "@discordjs/opus": "^0.10.0",
    "@discordjs/voice": "^0.17.0",
    "@modelcontextprotocol/sdk": "^1.23.0",
    "@prisma/adapter-pg": "^7.0.1",
    "@prisma/client": "^7.0.0",
    "cookie-parser": "^1.4.7",
    "discord.js": "^14.16.3",
    "dotenv": "^16.4.5",
    "express": "^4.21.2",
    "express-session": "^1.18.2",
    "http-proxy-middleware": "^3.0.5",
    "level": "^8.0.0",
    "libsodium-wrappers": "^0.7.15",
    "openai": "^6.9.1",
    "opusscript": "^0.0.8",
    "playwright": "^1.57.0",
    "prism-media": "^1.3.5",
    "zod": "^4.1.13"
  },
  "devDependencies": {
    "@playwright/test": "^1.57.0",
    "@types/cookie-parser": "^1.4.10",
    "@types/express": "^5.0.0",
    "@types/express-session": "^1.18.2",
    "@types/node": "^22.19.1",
    "@vitest/coverage-v8": "^4.0.14",
    "@vitest/ui": "^4.0.14",
    "husky": "^9.1.7",
    "node-fetch": "^3.3.2",
    "prisma": "^7.0.0",
    "tsx": "^4.19.4",
    "typescript": "^5.6.3",
    "vitest": "^4.0.14"
  },
  "engines": {
    "node": ">=20.19.0"
  },
  "overrides": {
    "hono": "^4.10.3",
    "valibot": "^1.2.0"
  }
}
