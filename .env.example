# FumbleBot Environment Variables
# Copy this file to .env and fill in your values

# ===========================================
# SECURITY CONFIGURATION (Required)
# ===========================================

# Session secret - REQUIRED for secure session management
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=

# Admin Discord User IDs (comma-separated)
# These users will have access to admin endpoints like /api/systems
FUMBLEBOT_ADMIN_IDS=

# ===========================================
# DISCORD CONFIGURATION (Required)
# ===========================================
# Get these from https://discord.com/developers/applications

# Application ID - from General Information (REQUIRED)
FUMBLEBOT_DISCORD_CLIENT_ID=

# Bot Token - from Bot section
FUMBLEBOT_DISCORD_TOKEN=

# Client Secret - from OAuth2 section
# NOTE: This value is also used as AUTH_SECRET for session management
FUMBLEBOT_DISCORD_CLIENT_SECRET=

# Auth Secret - for session management (defaults to FUMBLEBOT_DISCORD_CLIENT_SECRET if not set)
# Can be set explicitly or will use FUMBLEBOT_DISCORD_CLIENT_SECRET
AUTH_SECRET=

# Public Key - from General Information (for interactions)
FUMBLEBOT_DISCORD_PUBLIC_KEY=

# Guild ID (Optional) - For development, register commands to a specific server
# Leave empty for global command registration
FUMBLEBOT_DISCORD_GUILD_ID=

# ===========================================
# AI CONFIGURATION (Both required)
# ===========================================

# OpenAI API Key
FUMBLEBOT_OPENAI_API_KEY=

# Anthropic API Key
FUMBLEBOT_ANTHROPIC_API_KEY=

# ===========================================
# AI API CONFIGURATION (For external services)
# ===========================================

# AI API Secret - Required for external services (like Core) to call AI endpoints
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# External services must send this as X-AI-Secret header
FUMBLEBOT_AI_SECRET=

# ===========================================
# DISCORD ACTIVITY SERVER (Optional)
# ===========================================

# Enable Discord Activity server
FUMBLEBOT_ACTIVITY_ENABLED=true

# Port for activity server (use 3000 locally, 443 in production with reverse proxy)
FUMBLEBOT_ACTIVITY_PORT=3000

# Host for activity server (0.0.0.0 for all interfaces)
FUMBLEBOT_ACTIVITY_HOST=0.0.0.0

# Public URL for activity server (must be HTTPS in production)
# This is what you'll register in Discord Developer Portal
# In production, your reverse proxy (Nginx/Caddy) will handle SSL on port 443
FUMBLEBOT_ACTIVITY_PUBLIC_URL=https://fumblebot.crit-fumble.com

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# PostgreSQL connection string (DigitalOcean managed database)
# Get from: doctl databases connection <db-id> --format URI
FUMBLEBOT_DATABASE_URL=

# CA certificate path for secure SSL connections (RECOMMENDED for production)
# Download from DigitalOcean dashboard: Databases > your-db > Connection Details > Download CA certificate
# Place at: certs/ca-certificate.crt (local) or /opt/fumblebot/certs/ca-certificate.crt (production)
# If not set, SSL will work but without certificate verification (less secure)
DATABASE_CA_CERT=certs/ca-certificate.crt

# ===========================================
# CORE SERVER PROXY (Required in Production)
# ===========================================

# Core server URL - internal DO VPC network URL (REQUIRED)
# FumbleBot proxies activity requests to this server
# Get the internal IP from: doctl compute droplet list --format Name,PrivateIPv4
# Format: http://<private-ip> (do NOT include port or trailing slash)
CORE_SERVER_URL=

# Core server port (default: 4000)
CORE_SERVER_PORT=4000

# Shared secret for service-to-service authentication
# Must match CORE_SECRET in core.crit-fumble.com's .env
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CORE_SECRET=

# ===========================================
# INTERACTIONS ENDPOINT (Optional)
# ===========================================

# Interactions endpoint URL for receiving interactions via HTTP POSTs
# instead of over Gateway. Must be HTTPS.
# Example: https://fumblebot.crit-fumble.com/api/interactions
FUMBLEBOT_INTERACTIONS_ENDPOINT_URL=
